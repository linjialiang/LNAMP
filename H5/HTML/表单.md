# 表单

> `HTML <form> 元素` 表示了文档中的一个区域，这个区域包含有交互控制元件，用来向web服务器提交信息。
> 通常我中文就称为 `HTML 表单` ，简称 `表单`

## `<form>` 元素

> `<form>` 元素，用于定义表单

```html
<form>
    <!-- 输入各类表单元素 -->
</form>
```

### `<form>` 的属性

> 这个元素包括一些 全局属性：

| 序号  | `<form>` 全局属性    | 作用                              |
| --- | ---------------- | ------------------------------- |
| 1   | `accept-charset` | 列表包括了服务器支持的字符编码                 |
| 2   | `action`         | 处理这个form信息的程序所在的URL             |
| 3   | `autocomplete`   | 用于指示 input 元素是否能够拥有一个默认值        |
| 4   | `enctype`        | 只有当 method 属性值为 post 时才生效       |
| 5   | `method`         | 浏览器通常使用这种 HTTP 方式来提交 form       |
| 6   | `name`           | 同一文档的任意form当中，name值必须唯一，不能是空字符串 |
| 7   | `novalidate`     | 不对表单进行验证                        |
| 8   | `target`         | target 属性规定在何处打开 action URL     |

### `accept-charset` 属性

| 序号  | `accept-charset` 属性描述                        |
| --- | -------------------------------------------- |
| 1   | 属性值是 `一个空格分隔的列表`                             |
| 2   | 这个列表包括了服务器支持的字符编码。浏览器以这些编码被列举的顺序使用它们。        |
| 3   | 默认值是一个保留字符串“UNKNOWN”。意思是，编码与form元素的当前文档的编码一致 |

> 最简单、常用的`accept-charset` 属性值 `utf-8`

```html
<form accept-charset='utf-8'>
    <!-- 输入各类表单元素 -->
</form>
```

### `action` 属性

> 一个处理当前form信息的程序文件所在的URL，通常最终会提交到一个动态文件上处理

```html
<form action="index.php">
    <!-- 输入各类表单元素 -->
</form>
```

### `enctype` 属性

| 序号  | `enctype` 属性描述             |
| --- | -------------------------- |
| 1   | 仅当 method 属性值为 post 时，才能生效 |
| 2   | 是将form的内容提交给服务器的 MIME 类型   |

> PS： `MIME` 是描述消息内容类型的因特网标准！ `MIME` 消息能包含文本、图像、音频、视频以及其他应用程序专用的数据。

| `enctype` 属性值                       | 描述                                  |
| ----------------------------------- | ----------------------------------- |
| `application/x-www-form-urlencoded` | 在发送前编码所有字符（默认）                      |
| `multipart/form-data`               | 不对字符编码。支持二进制数据传输，如：图像、文件、音频等就需要使用该值 |
| `text/plain`                        | 空格转换为 "+" 加号，但不对特殊字符编码              |

> PS: 如果不上传文件类数据可以不设置enctype或设置为 `text/plain`

```HTML
<form enctype="text/plain">
    <!-- 输入各类表单元素 -->
</form>
```

> 表单中需要上传文件，必须使用 `multipart/form-data`

```HTML
<form enctype="multipart/form-data">
    <!-- 输入各类表单元素 -->
</form>
```

### `method` 属性

> 在前端页面中提交form，通常只有两种方式 `POST & GET`

| method属性值 | 描述                                                         |
| --------- | ---------------------------------------------------------- |
| `POST`    | 表单数据会包含在表单体内然后发送给服务器                                       |
| `GET`     | 表单数据会附加在 action 属性的URI中，并以 '?' 作为分隔符, 然后这样得到的 URI 再发送给服务器. |

```html
<form method="post">
    <!-- 输入各类表单元素 -->
</form>
```

> 案例1：gbk编码的前端页面，提交至utf-8的php动态文件，不上传文件

```html
<form action="index.php" method="post" enctype="text/plain" accept-charset="utf-8" name="form1">
    <!-- 输入各类表单元素 -->
</form>
```

> 案例2：utf-8编码的前端页面，提交至utf-8的php动态文件，需要上传文件

```html
<form action="index.php" method="post" enctype="multipart/form-data" name="form2">
    <!-- 输入各类表单元素 -->
</form>
```

## 表单元素

> `HTML 表单` 是由一系列的 `表单元素` 构成的

| 序号  | 表单元素         | 作用说明                                     |
| --- | ------------ | ---------------------------------------- |
| 1   | `<input>`    | 定义输入域                                    |
| 2   | `<textarea>` | 定义文本域 (一个多行的输入控件)                        |
| 3   | `<label>`    | 定义了 `<input> & <textarea>` 元素的标签，一般为输入标题 |
| 4   | `<fieldset>` | 定义了一组相关的表单元素，并使用外框包含起来                   |
| 5   | `<legend>`   | 定义了 `<fieldset>` 元素的标题                   |
| 6   | `<select>`   | 定义了下拉选项列表                                |
| 7   | `<optgroup>` | 定义选项组，与`<option>`配合                      |
| 8   | `<option>`   | 定义下拉列表中的选项                               |
| 9   | `<button>`   | 定义一个点击按钮                                 |
| 10  | `<datalist>` | 指定一个预先定义的输入控件选项列表，包含一系列`<option>`标签      |

### `<input>` 元素

> `<input>` 是表单中最重要的元素

| 序号  | `<input>`标签描述                                        |
| --- | ---------------------------------------------------- |
| 1   | `<input>` 标签规定了用户可以在其中输入数据的输入字段                      |
| 2   | `<input>` 元素在 `<form>` 元素中使用，用来声明允许用户输入数据的 input 控件。 |
| 3   | `<input>` 输入字段可通过多种方式改变，取决于 type 属性。                 |
| 4   | `<input>` 元素是没有标题的,它只包含标签属性，需要使用 `<label>` 元素来定义其标题  |
| 5   | `<input>` 标签没有结束标签                                   |

#### 属性表

> `<input>` 元素的属性表（仅列出推荐使用的）

| 属性            | 描述                                           |
| ------------- | -------------------------------------------- |
| `type`        | 规定要显示的 `<input>` 元素的类型                       |
| `accept`      | 规定通过文件上传来提交的文件的类型。 `(只针对type="file")`        |
| `checked`     | 规定在页面加载时应该被预先选定的 `<input>` 元素。               |
| `disabled`    | 规定应该禁用的 `<input>` 元素。                        |
| `list`        | 引用 `<datalist>` 元素，其中包含 `<input>` 元素的预定义选项。  |
| `max`         | 规定 `<input>` 元素的最大值                          |
| `min`         | 规定 `<input>`元素的最小值。                          |
| `maxlength`   | 规定 `<input>` 元素中允许的最大字符数                     |
| `multiple`    | 规定允许用户输入到 `<input>` 元素的多个值。如：支持上传多张图片        |
| `name`        | 规定 `<input>` 元素的名称                           |
| `placeholder` | 规定可描述输入 `<input> & <textarea>` 字段预期值的简短的提示信息 |
| `readonly`    | 规定输入字段是只读的                                   |
| `required`    | 规定必需在提交表单之前填写输入字段                            |
| `size`        | 规定 `<input>` 元素的可见宽度，以字符数计的                  |
| `step`        | 规定 `<input>` 元素的合法数字间隔                       |
| `value`       | 指定 `<input>` 元素 value 的值                     |

#### type属性的取值表

> `<input>` 元素的 `type属性` 的取值表（仅列出推荐使用的）

| 属性type的值 | 描述                                |
| -------- | --------------------------------- |
| checkbox | 定义复选框。                            |
| color    | 定义拾色器。                            |
| email    | 定义用于 e-mail 地址的字段。                |
| file     | 定义文件选择字段和 "浏览..." 按钮，供文件上传。       |
| hidden   | 定义隐藏输入字段。                         |
| number   | 定义用于输入数字的字段。                      |
| password | 定义密码字段（字段中的字符会被遮蔽）。               |
| radio    | 定义单选按钮。                           |
| range    | 定义用于精确值不重要的输入数字的控件（比如 slider 控件）。 |
| search   | 定义用于输入搜索字符串的文本字段。                 |
| tel      | 定义用于输入电话号码的字段。                    |
| text     | 默认。定义一个单行的文本字段（默认宽度为 20 个字符）。     |
| url      | 定义用于输入 URL 的字段。                   |
| date     | 定义 date 控件（包括年、月、日，不包括时间）。        |

> PS：有些type属性并不重要，有些type属性能被`<button>`元素替代，这些都没有罗列出来

1.  type属性值 `color`

    > 可以在页面上选择指定颜色

    ```HTML
    <form action="#" name="form1">
        <label for="color-picker">这是颜色选择器</label>
        <input type="color" name="color-picker" id="color-picker">
        <span id="color"></span>
    </form>

    <script type="text/javascript">
    // 实时显示选择器颜色，需要jquery支持
    $(document).ready(function(){
        $('#color-picker').change(function(){
            var color = $('#color-picker').val();
            $('#color').text(color).css('border-bottom', '2px solid ' + color);
        });
    });
    </script>
    ```

2.  type属性值 `range`

> 用于输入不精确值控件。

| 序号  | 配合使用的`<input>` 属性 |
| --- | ----------------- |
| 1   | min               |
| 2   | max               |
| 3   | step              |
| 4   | value             |

> 如果未指定相应的属性，控件使用如下缺省值：

| `<input>` 属性 | `type='range'` 时对应的缺省值                     |
| ------------ | ------------------------------------------ |
| min          | 0                                          |
| max          | 100                                        |
| step         | 1                                          |
| value        | `min + (max-min)/2` （当 max 小于 min 时使用 min） |

> 默认情况下使用缺省值

```html
<form action="#" name="form1">
    <label for="range">这是取值范围</label>
    <input type="range" name="range" id="range">
    <span id="range-value"></span>
</form>

<script type="text/javascript">
// 需要jquery支持
$(document).ready(function(){
    $('#range').change(function(){
        var number = $('#range').val();
        $('#range-value').text(number);
    });
});
</script>
```

> 设置 最大值为10 最大值为30 最小移动值为3

# 首次运行 `Git` 前的配置

> `Git` 安装完成后，我们可以做几件事情来定制属于自己的 `Git` 环境
>
> -   每台计算机只要配置一次，程序升级时会保留配置信息
> -   你可以在任何时候，再次通过运行命令来修改它们，在这里我建议大家不要经常变动

## `git config` 工具说明

> `git config` 是 `Git` 自带的工具，用来控制 `Git` 外观和行为的配置变量
>
> -   `git config` 的这些变量存储在三个不同的位置：
> -   每一个级别覆盖上一级别的配置： `仓库级别` 优先级最高， `系统级别` 优先级最低
> -   当然还有别的指令，比如 `git config --file <file>` 指令，就可以指定文件编辑

1.  `/etc/gitconfig` 文件

    > `系统级别` 配置文件
    >
    > -   该文件包含系统上每一个用户及他们仓库的通用配置
    > -   终端下使用 `git config --system` 命令， `Git` 会读写该配置文件
    > -   Windows 所在位置 `C:\Program Files\Git\mingw64\etc\gitconfig`

2.  `~/.gitconfig` 或 `~/.config/git/config` 文件

    > `用户级别` 配置文件（针对当前用户的所有仓库）
    >
    > -   终端下使用 `git config --global` 命令， `Git` 会读写该配置文件
    > -   Windows 所在位置 `C:\Users\username\.gitconfig`

3.  当前使用仓库的 `.git/config` 文件

    > `仓库级别` 配置文件（只针对该仓库）
    >
    > -   终端下使用 `git config` 或 `git config --local` 命令， `Git` 会读写该配置文件
    > -   Windows 所在位置一般在 `项目根目录\.git\config`
    > -   注意： `git config` 默认会是该仓库下的 config 文件

## 运行 `Git` 前的设置

> 这里介绍了运行 `Git` 前，我们必须或者应该了解的配置

### 设置和修改用户信息

> 安装完 `Git` ，我们第一时间要做的事情，就是设置用户名称和邮件地址
>
> -   这样很重要，因为每一个 `Git` 的提交都会使用这些信息，并且他会写入到你的每一次提交中，不可更改！
> -   如果没有设置 `用户名称` 默认会获取 `当前系统登陆用户名` 来充当 `用户名称`

1.  设置用户信息

    > 指令 `git config [--local|--global|--system] <section><key> <value>`
    >
    > -   注意： `新增` 和 `修改` 使用的命令格式一样

    ```shell
    $ git config --global user.name "madnesslin"
    $ git config --global user.email "linjialiang@163.com"
    ```

2.  读取用户信息

    > 指令 `git config [--local|--global|--system] <section><key>`

    ```shell
    $ git config --global user.name
    $ git config --global user.email
    ```

3.  删除用户信息

    > 指令 `git config --unset [--local|--global|--system] <section><key>`

    ```shell
    $ git config --unset --global user.name
    $ git config --unset --global user.email
    ```

4.  查看用户信息列表

    > 指令 `git config [--local|--global|--system] --list`
    >
    > -   注意：如果直接使用 `git config --list` 指令，你可能会看到重复的变量名，因为 `Git` 会从不同的文件中读取同一个配置
    > -   这种情况下 `Git` 会使用它找到的每一个变量的最后一个配置

    ```shell
    $ git config --global --list
    ```

### 设置在 `Git` 命令输出中开启颜色显示

> 设置了这个， `Git` 命令输出时，会更加直观

```shell
$git config --global color.ui true
```

### 设置 `Git` 文本编辑器

> 安装过程中 `Git` 通常会使用操作系统默认的文本编辑器（比如 vim），如果你想使用不同的文本编辑器就可以这样做：
>
> -   指令 `git config --global core.editor <editor name>`

1.  设置 `emacs` 为 `Git` 文本编辑器

    ```shell
    $ git config --global core.editor emacs
    ```

2.  查看当前的 `Git` 文本编辑器

    ```shell
    git config core.editor
    ```

### 设置 `Git` 换行符检查与转换

> `Git` 默认安装情况下，就是推荐的方式，学习的时候，大家就是用默认即可!下面介绍这个与换行符相关的 `Git变量` ：
>
> -   `core.autocrlf` 这是 `Git` 用于 `CRLF` 与 `LF` 之间的转换
> -   `core.safecrlf` 这是 `Git` 换行符检查功能,用于提交文件时检查文件是否混用了两种风格的结束符。

1.  `core.autocrlf` （学习本教程时，使用默认即可）

    > 命令格式： `git config [--local|--global|--system] core.autocrlf {true|input|false}`
    >
    > -   参数说明（安装时，默认安装情况下都是采用默认，所以没有必要不需要修改）：
    > -   `false` ： Git 在检查或提交文本文件时，不会执行任何转换（对于跨平台项目，不建议选择这个选项）！
    > -   `input` ： Git 在检查文本文件时，会执行换号符转换。在提交文本文件时， `CRLF` 将被转换为 `LF` 。对于跨平台项目，这是 `Unix` 上推荐的设置!
    > -   `true` ：当你检查文本文件时， Git 会将 `LF` 将会转换为 `CRLF` 。在提交文本文件时，`CRLF` 将被转换成 `LF` 。对于跨平台项目，这是 `Windows` 上推荐的设置!

2.  `core.safecrlf` （使用默认，尽量别去设置）
    > 命令格式： `git config [--local|--global|--system] core.safecrlf {false|warn|true}`
    >
    > -   参数说明：
    > -   `false` 不做任何检查
    > -   `warn` 在提交时检查并警告
    > -   `true` 在提交时检查，如果发现混用则拒绝提交

### 向 `Git` 获取帮助

> 以上讲解的只是非常基础的指令，还有更多指令，我们可以通过 `Git` 自带的帮助系统来解决
>
> -   获取 `Git` 帮助的 3 种方式：

```shell
$ git help <verb>
$ git <verb> --help
$ man git-<verb>
```

1.  举例：获取 `config` 命令的手册

    ```shell
    $ git help config
    ```

## 本章总结

> 通过本章学习，你应该已经对 `Git` 是什么有了基本的了解，并且通过本章的知道，你应该也能正确安装上 `Git` 了，接下来我们就要开始学习有关 `Git` 的基础知识了！

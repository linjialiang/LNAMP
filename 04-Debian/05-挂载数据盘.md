# 挂载数据盘

> 安装完成后有2个 50G 的虚拟硬盘还未绑定到指定目录下，这里是具体操作：

## 删除分区

> 先将这两个数据盘的分区全部删除操作如下：

```shell
$ fdisk /dev/sdb 或 /dev/sdc
$ d
$ 回车
$ ...直到出现红色警告文字
$ w
```

## 创建 LVM 分区

> `8e` 是 lvm 分区类型的 `标识`

```shell
$ fdisk -l
$ fdisk /dev/sdb 或 /dev/sdc
$ n
$ e
$ 3次回车
$ w
$ fdisk /dev/sdb 或 /dev/sdc
$ t
$ 8e
$ w
```

## 创建逻辑卷

> 将 /dev/sdb1 和 /dev/sdc1 转化成 LVM 物理卷

```shell
$ pvcreate /dev/sdb1 或 /dev/sdc1
$ pvscan
$ pvs
$ pvdisplay
```

> 将 `物理卷——/dev/sdb1` 加入 `LVM卷组——vg_data`

```shell
$ vgcreate vg_data /dev/sdb1
$ vgscan
$ vgs
$ vgdisplay
```

> `物理卷——/dev/sdb1` 上的全部容量都贡献给 `LVM逻辑卷——lv_data`

```shell
$ lvcreate -l 100%VG -n lv_data vg_data
$ lvscan
$ lvs
$ lvdisplay
```

## 格式化逻辑卷

> 速度慢，带 -c 会检测是否坏轨

```shell
$ mkfs -V -t ext4 -c /dev/vg_data/lv_data
```

> 速度快

```shell
$ mkfs -V -t ext4 /dev/vg_data/lv_data
```

## 挂载分区

> 创建 `/data` 这个挂载目录

```shell
$ mkdir /data
```

> 挂载 lvm 逻辑分区到指定目录

```shell
$ lvdisplay
$ mount /dev/vg_data/lv_data /data
```

> 开机自动挂载

```shell
$ vi /etc/fstab

```

## 卸载分区

```shell
$ umount /data
```

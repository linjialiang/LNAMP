# 关于版本控制

> 本章会让大家了解 `版本控制` 是什么？本章围绕话题：
>
> 1.  什么是 `版本控制` ？
> 2.  为什么要选择 `版本控制`？
> 3.  `版本控制` 适合群体有哪些？

## 关于 `版本控制`

> `版本控制系统` 英文名叫 `Version Control Systems，简称 VCS`
> `版本控制` 是一种记录一个或若干个文件内容变化，一遍将来查阅特定版本修订情况的系统。

### `版本控制` 适合所有文件类型

> 在本篇所展示的例子中，我们队保存着软件源代码的文件做 `版本控制`，但实际上你可以对任何类型的文件（包括图像、音频、视频等）进行版本控制。

### `版本控制` 的历程

> 大多都是采用某种简单的数据库来记录文件的历史更新差异
>
> 1.  `手动备份数据`
> 2.  `本地版本控制系统（本地VCS）`
> 3.  `集中化的版本控制系统（Centralized Version Control Systems，简称 CVCS）`
> 4.  `分布式版本控制系统（Distributed Version Control System，简称 DVCS）`

#### `手动备份数据`

> 原理：`手动备份数据` 过程：每次都手动复制整个项目目录 + 备份时间
> 新问题：这样做很简单，但是特别容易犯错，一部小心会写错文件或者覆盖意料之外的文件

#### `本地版本控制系统`

> 为了解决 `手动备份数据` 容易出错问题，我们开发了 `本地版本控制系统`
> 原理：一般都是采用某种简单的数据库来记录文件的历次更新差异
> 新问题：个人电脑文件备份问题解决了，但接下来很多企业又遇到了新的困难，如何让团队开发者在不同系统上协同工作？

#### `集中化的版本控制系统`

> 为了解决<font color=red>团队开发协同困难</font>， `集中化的版本控制系统（CVCS）` 应运而生
> 原理：用一个服务器（以下称  `CVCS 服务器` ）集中管理， `CVCS 服务器` 里保存所有文件的修订版本，每个软对开发者都通过客户端连接到这台服务器， `从服务器取出最新的文件` 或者 `向服务器提交更新`
> 新问题1：如果 `CVCS 服务器` 出现故障，比如一天内无法正常启动，那么整个团队就不能提交和下载最新版本文件，也就无法正常工作了
> 新问题2：如果 `CVCS 服务器` 数据库所在磁盘发生损坏，毫无疑问整个公司将丢失所有数据（包括项目的整个变更历史），只剩下开发者们在各自电脑上保留的单独快照。
> 问题解释：打个比方，有人故意攻击企业的 `CVCS 服务器` ，并且企业平时也没有备份，那么 `CVCS 服务器` 上的所有项目数据就可能完全丢失！

#### `分布式版本控制系统`

> `CVCS` 无法解决和避免的危机，在 `分布式版本控制系统` 得到完美解决
> 原理：在 `CVCS` 的基础上，客户端并不只是提取最新版本的文件快照，而是把代码仓库完整地镜像下来。因为每一次的克隆操作，实际上都是对代码仓库的完整备份
>
> -   原理解释1：打个比方，分布式版本控制系统的服务器被人攻击，导致服务器一天内无法正常启动，团队开发人员，可以继续正常工作，等待服务器恢复在提交更新，事后进行统一合并
> -   原理解释2：打个比方，分布式版本控制系统的服务器被人攻击，导致代码仓库数据丢失，事后可以用团队开发者中任何一个镜像出来的本地仓库恢复（当然只有经常更新的开发者才能保证代码最新）
> -   原理解释3：继续上面的问题，我们可以更进一步，可以指定多干不同的远端代码仓库进行交互，之后你就可以在同一个项目中，分别和不同工作小组的人相互协作，你可以根据需要设定不同的协作流程！

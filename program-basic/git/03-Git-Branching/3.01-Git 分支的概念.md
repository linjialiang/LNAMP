# Git 分支的概念

## Git 是如何处理分支的？

> 为了真正理解 Git 处理分支的方式，我们需要回顾一下 Git 是如何保存数据的。

### Git 保存数据的方式

> Git 会保存一个提交对象 `commit object` 。
>
> -   提交对象会包含一个指向暂存内容快照的指针，并且该提交对象还包含了：
> -   1) 作者的姓名和邮箱
> -   2) 提交时输入的信息
> -   3) 以及制定它的父对象的指针（首次提交产生的提交对象没有父对象，普通提交操作产生的提交对象有一个父对象，而由多个分支合并产生的提交对象有多个父对象！）

### 举例说明 Git 保存数据的方式

> 本节正在编辑，还未完成，但是我现在有事情需要出去下，为了防止意外发生，我准备将本小节做 Git 提交（暂存和提交文件的过程）
>
> -   为了更加形象的说明我再新建 2 个文件： `3.00-demo1.md` `3.00-demo2.md`

```shell
$ cd */git/03*
$ touch 3.00-demo{1,2}.md
$ git status -s
?? 3.00-demo1.md
?? 3.00-demo2.md
?? 3.01-Git 分支的概念.md
```

> 现在我们可以看到 3 个从未暂存过的文件
>
> -   使用 `git add` 暂存操作时，会为每一个文件计算校验和（使用之前提到过的 `SHA-1` 哈希算法）；然后会把当前版本的文件快照保存到 Git 仓库中（Git 使用 BLOB 对象来保护它们）
> -   最终，将校验和加入到暂存区域等待提交！
> -   `BLOB 对象` ：这是二进制大对象，是一个可以存储二进制文件的容器，典型的 `BLOB 对象` 如，一张图片或一个声音文件。

```shell
$ git add 3.00-*.md 3.01-*.md
$ git status -s
A  3.00-demo1.md
A  3.00-demo2.md
A  "3.01-Git 分支的概念.md"
```

> 当使用 `git commit` 进行提交操作时
>
> 1.  Git 会先计算每一个子目录的校验和，
> 2.  然后在 Git 仓库中这些 `校验和` 保存为 `树对象`
> 3.  随后， Git 便会创建一个提交对象，它除了包含上面提到的那些信息外，还包含了指向这个树对象的指针。
> 4.  如此一来，当我们需要的时候，Git 就可以重现这次保存的快照了！
> 5.  两个 demo 文件，是测试我们，我们这里就不提交了

```shell
$ git rm -f 3.00-demo*.md
rm 'program-basic/git/03-Git-Branching/3.00-demo1.md'
rm 'program-basic/git/03-Git-Branching/3.00-demo2.md'

```

>  现在，Git 仓库中新增了5个对象：
>
> 1.  三个 BLOB 对象（保存着文件快照）
> 2.  一个树对象（记录着目录结构和 BLOB 对象所有）
> 3.  一个提交对象（包含着指向前述树对象的指针和所有提交者信息）

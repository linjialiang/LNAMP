# <center>创建 tp5 项目</center>

> 这里讲解如何创建 `thinkphp5.2` 项目，帮助新手解决 `git` 与 `composer` 的结合问题！

| 托管平台 | 版本库名称          | 版本库地址                                 |
| -------- | ------------------- | ------------------------------------------ |
| github   | tp5 框架（基础包）  | https://github.com/top-think/think.git     |
| github   | tp5 核心（插件）    | https://github.com/top-think/framework.git |
| gitee    | tp5 框架（基础包）  | https://gitee.com/liu21st/thinkphp5.git    |
| gitee    | tp5 核心（插件）    | https://gitee.com/liu21st/framework.git    |
| github   | tp5（自己的版本库） | https://github.com/linjialiang/tp5.git     |
| gitee    | tp5（自己的版本库） | https://gitee.com/linjialiang/tp5.git      |

## 创建原理

> 创建项目的操作原理如下：

| 序号 | 说明                              | 需求情况 |
| ---- | --------------------------------- | -------- |
| 01   | 使用 Git 下载 `tp5 框架`          | 必备     |
| 02   | 使用 composer 下载 `tp5 核心`     | 必备     |
| 03   | 使用 composer 下载 `tp5 其它插件` | 可选     |

## Git 操作

> 下面是创建与管理 tp5 项目操作的具体步骤：

### 拉取框架

> 使用 Git 拉取框架基础包到本地，并指定拉取 `5.2` 分支

```shell
# 指定目录
$ cd /c/wamp/web/www/
# 将tp5框架的5.2分支拉取下来，并将项目命名为tp5（gitee平台托管地址）
$ git clone --branch=5.2 https://gitee.com/liu21st/thinkphp5.git tp5
# 进入tp5项目
$ cd tp5
```

### 操作版本库

> 远程版本库重命名，增加自己的远程版本库

```shell
# 修改远程版本库名称
$ git remote rename origin topthink-gitee
# 增加自己的远程版本库
$ git remote add linjialiang-github https://github.com/linjialiang/tp5.git
$ git remote add linjialiang-gitee https://gitee.com/linjialiang/tp5.git
# 为分支取消远程分支
git branch --unset-upstream
```

> 为远程空版本库创建分支：

```shell
# 设置默认远程分支，并推送内容
$ git push --set-upstream linjialiang-gitee 5.2
# 推送内容到github远程版本库
$ git push linjialiang-github
```

> 本地创建一个用于开发的分支，今后我们都在该分支上开发：

```shell
# 以 5.2 分支 为基础，创建 dev1 本地分支
$ git branch dev1 5.2
# 进入到新分支 dev1
$ git checkout dev1
# 为 dev1 设置默认远程分支，并推送内容
$ git push --set-upstream linjialiang-gitee dev1
# 推送分支内容到github远程版本库
$ git push linjialiang-github
```

> 本地版本库创建 `master` 分支，并设置为版本库默认分支：

```shell
# 以 `5.2 分支` 为基础，创建 master 分支：
$ git branch master dev1
# 进入到新分支 master
$ git checkout master
# 为 dev1 设置默认远程分支，并推送内容
$ git push --set-upstream linjialiang-gitee master
# 推送分支内容到github远程版本库
$ git push linjialiang-github
```

> 分支简要说明：

| 分支     | 描述                                             |
| -------- | ------------------------------------------------ |
| `5.2`    | 该分支同步 topthink 分支，不做其他用途           |
| `dev1`   | 该分支为开发分支，需要合并最新的`5.2`分支        |
| `master` | 该分支是远程版本库的默认分支，展示最新稳定的版本 |

> 注意：在版本库托管平台上将 `maste` 设置成默认分支

## Composer 操作

> composer 操作比较简单，这里建议都在 `dev1分支` 下操作

```shell
# 进入dev1分支
$ git checkout dev1
# composer 更新 topthink/framework
$ composer update topthink/framework
```

> 注意：composer 更新完数据后，一定会有一些文件被改变，这里记得提交！

## 结束语

> 到此，tp5 创建项目教程分析完毕！

# Nginx 初学者指南

> 本指南提供了对 nginx 的基本介绍，并介绍了可以使用它完成的一些简单任务。

## 启动，停止和重新加载配置

1. 启动 Nginx

   > 要启动 nginx，请运行可执行文件。使用以下语法：

   ```shell
   $ nginx
   ```

2. nginx 指令信号

   > 启动 nginx 后，可以通过使用-s 参数调用可执行文件来控制它。使用以下语法：

   ```shell
   $ nginx -s 信号
   ```

   > 可选信号列表

   | 信号            | 描述             |
   | --------------- | ---------------- |
   | nginx -s stop   | 快速关闭         |
   | nginx -s quit   | 优雅的关闭       |
   | nginx -s reload | 重新加载配置文件 |
   | nginx -s reopen | 重新打开日志文件 |

3. 信号详解

   > 例如，要停止 nginx 进程，等待 worker 进程完成服务当前请求，可以执行以下命令:

   ```shell
   # 这个命令应该在启动 nginx 的同一用户下执行。
   $ nginx -s quit
   ```

   > 要获取所有正在运行的 nginx 进程的列表，ps 可以使用该实用程序，例如，通过以下方式：

   ```shell
   $ ps -ax | grep nginx
   ```

## 配置文件的结构

> nginx 由模块组成，这些模块由配置文件中指定的指令控制。

```text
## =============================================================================
##                              【Nginx 配置文件结构】
## =============================================================================
├─ main                                     核心块，配置影响nginx全局的指令
|   ├─events                                配置影响nginx服务器或与用户的网络连接
|   |
|   ├─stream                                处理网络通信协议的第4层(tcp/udp)
|   |  ├─upstream                           4层负载均衡
|   |  ├─server                             4层代理、4层反向代理
|   |  └─ ...
|   |
|   ├─http                                  处理网络通信协议的第7层(tcp/ip)
|   |  ├─upstream                           7层负载均衡
|   |  ├─server                             虚拟主机、7层代理、7层反向代理
|   |  |  ├─location                        配置请求的路由，以及各种页面的处理情况。
|   |  |  └─ ...
|   |  └─ ...
|   |
|   ├─mail                                  代理邮箱服务器
|   |  ├─server
|   |
|
└─
```
